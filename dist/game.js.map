{"version":3,"file":"game.js","mappings":"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","sources":["webpack://Tic Tac Toe/./src/Game.ts","webpack://Tic Tac Toe/./src/ai/AI.ts","webpack://Tic Tac Toe/./src/elements/Button.ts","webpack://Tic Tac Toe/./src/elements/ElementO.ts","webpack://Tic Tac Toe/./src/elements/ElementX.ts","webpack://Tic Tac Toe/./src/elements/Field.ts","webpack://Tic Tac Toe/./src/elements/Info.ts","webpack://Tic Tac Toe/./src/elements/Rect.ts","webpack://Tic Tac Toe/./src/index.ts","webpack://Tic Tac Toe/./src/renderer/App.ts","webpack://Tic Tac Toe/./src/renderer/Drawable.ts","webpack://Tic Tac Toe/./src/renderer/TextDrawable.ts","webpack://Tic Tac Toe/./src/renderer/math/Point2D.ts","webpack://Tic Tac Toe/./src/screens/Finish.ts","webpack://Tic Tac Toe/./src/screens/TicTacToe.ts","webpack://Tic Tac Toe/./src/screens/Welcome.ts","webpack://Tic Tac Toe/./src/utils/FieldUtils.ts","webpack://Tic Tac Toe/webpack/bootstrap","webpack://Tic Tac Toe/webpack/startup"],"sourcesContent":["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar App_1 = __importDefault(require(\"./renderer/App\"));\nvar Finish_1 = __importDefault(require(\"./screens/Finish\"));\nvar TicTacToe_1 = __importDefault(require(\"./screens/TicTacToe\"));\nvar Welcome_1 = __importDefault(require(\"./screens/Welcome\"));\nvar REDIRECT_URL = \"https://www.example.com\";\nvar Game = /** @class */ (function () {\n    function Game(canvas) {\n        var _this = this;\n        this.toGame = function () {\n            var _a, _b;\n            (_a = _this.onAd) === null || _a === void 0 ? void 0 : _a.call(_this);\n            console.log(\"Start game\");\n            _this.app.scene.removeChildren();\n            (_b = _this.currentScreen) === null || _b === void 0 ? void 0 : _b.destroy();\n            var gameplay = new TicTacToe_1.default(_this.app.scene);\n            gameplay.onWin = function () { _this.toFinish(0); };\n            gameplay.onLose = function () { _this.toFinish(1); };\n            gameplay.onDraw = function () { _this.toFinish(2); };\n            gameplay.start();\n            _this.currentScreen = gameplay;\n        };\n        this.toFinish = function (result) {\n            var _a;\n            (_a = _this.currentScreen) === null || _a === void 0 ? void 0 : _a.destroy();\n            var text = \"\";\n            switch (result) {\n                case 0:\n                    text = \"YOU WIN!\";\n                    break;\n                case 1:\n                    text = \"YOU LOSE!\";\n                    break;\n                case 2:\n                    text = \"DRAW\";\n                    break;\n                default: break;\n            }\n            var finish = new Finish_1.default(text, _this.app.scene);\n            finish.onPlay = _this.toGame;\n            finish.onExit = _this.toExit;\n            finish.start();\n            _this.currentScreen = finish;\n        };\n        this.toExit = function () {\n            var _a;\n            (_a = _this.currentScreen) === null || _a === void 0 ? void 0 : _a.destroy();\n            window.location.assign(REDIRECT_URL);\n        };\n        this.onKeyEvent = function (e) {\n            var _a;\n            if (!_this.app.rendering) {\n                return;\n            }\n            (_a = _this.currentScreen) === null || _a === void 0 ? void 0 : _a.onKeyEvent(e);\n        };\n        this.app = new App_1.default(canvas);\n        this.app.background = '#ddd';\n    }\n    Game.prototype.prepare = function () {\n        var welcome = new Welcome_1.default(this.app.scene);\n        welcome.onPlay = this.toGame;\n        welcome.onExit = this.toExit;\n        welcome.start();\n        this.currentScreen = welcome;\n        this.subscribe();\n    };\n    Game.prototype.play = function () {\n        this.app.scene.visible = true;\n        this.app.rendering = true;\n    };\n    Game.prototype.pause = function () {\n        this.app.scene.visible = false;\n        this.app.rendering = false;\n    };\n    /** Subscribe to key events */\n    Game.prototype.subscribe = function () {\n        document.addEventListener(\"keydown\", this.onKeyEvent);\n    };\n    /** Unsubscribe from key events */\n    Game.prototype.unsubscribe = function () {\n        document.removeEventListener(\"keydown\", this.onKeyEvent);\n    };\n    return Game;\n}());\nexports.default = Game;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar FieldUtils_1 = require(\"../utils/FieldUtils\");\nvar AI = /** @class */ (function () {\n    /** Create AI\n     *\n     * @param {State} type - AI type\n     */\n    function AI(type) {\n        this.type = type;\n        this.enemy = type === FieldUtils_1.State.X ? FieldUtils_1.State.O : FieldUtils_1.State.X;\n    }\n    /**\n     * Find coordinates for play\n     *\n     * @param {State[][]} field - game field\n     *\n     * @returns {{x: number, y: number}} - coordinates to use\n     */\n    AI.prototype.getCoordinates = function (field) {\n        var victory = this.findVictory(field);\n        if (victory) {\n            console.log(\"AI: Victory: \", victory);\n            return this.lineToCoord(field, victory);\n        }\n        var danger = this.findDanger(field);\n        if (danger) {\n            console.log(\"AI: Danger: \", danger);\n            return this.lineToCoord(field, danger);\n        }\n        var random = this.findRandom(field);\n        if (random) {\n            console.log(\"AI: Random: \", random);\n            return this.lineToCoord(field, random);\n        }\n        return { x: -1, y: -1 };\n    };\n    /**\n     * Get coords from line\n     *\n     * @param {State[][]} field - game field\n     * @param {PlayLine} line - line to use\n     *\n     * @returns {x: number, y: number} - coords from line\n     */\n    AI.prototype.lineToCoord = function (field, line) {\n        var x = -1;\n        var y = -1;\n        var i = this.findEmpty(this.lineToArray(field, line));\n        switch (line.line) {\n            case FieldUtils_1.Line.Horizontal:\n                x = i;\n                y = line.coord;\n                break;\n            case FieldUtils_1.Line.Vertical:\n                x = line.coord;\n                y = i;\n                break;\n            case FieldUtils_1.Line.DiagonalLTRB:\n                x = i;\n                y = i;\n                break;\n            case FieldUtils_1.Line.DiagonalLBRT:\n                x = field[0].length - (i + 1);\n                y = i;\n            default:\n                break;\n        }\n        return { x: x, y: y };\n    };\n    /**\n     * Find victory line\n     *\n     * @param {State[][]} field - game field\n     *\n     * @return {PlayLine | undefined} - is there any victory lines\n     */\n    AI.prototype.findVictory = function (field) {\n        for (var i = 0; i < field.length; ++i) {\n            var hline = { line: FieldUtils_1.Line.Horizontal, coord: i };\n            var harray = this.lineToArray(field, hline);\n            if (this.isVictory(harray)) {\n                return hline;\n            }\n            var vline = { line: FieldUtils_1.Line.Vertical, coord: i };\n            var varray = this.lineToArray(field, vline);\n            if (this.isVictory(varray)) {\n                return vline;\n            }\n        }\n        var d1line = { line: FieldUtils_1.Line.DiagonalLTRB, coord: 0 };\n        var d1array = this.lineToArray(field, d1line);\n        if (this.isVictory(d1array)) {\n            return d1line;\n        }\n        var d2line = { line: FieldUtils_1.Line.DiagonalLBRT, coord: 0 };\n        var d2array = this.lineToArray(field, d2line);\n        if (this.isVictory(d2array)) {\n            return d2line;\n        }\n        return undefined;\n    };\n    /**\n     * Find danger line\n     *\n     * @param {State[][]} field - game field\n     *\n     * @returns {PlayLine | undefined} - is there any danger line\n     */\n    AI.prototype.findDanger = function (field) {\n        for (var i = 0; i < field.length; ++i) {\n            var hline = { line: FieldUtils_1.Line.Horizontal, coord: i };\n            var harray = this.lineToArray(field, hline);\n            if (this.isDanger(harray)) {\n                return hline;\n            }\n            var vline = { line: FieldUtils_1.Line.Vertical, coord: i };\n            var varray = this.lineToArray(field, vline);\n            if (this.isDanger(varray)) {\n                return vline;\n            }\n        }\n        var d1line = { line: FieldUtils_1.Line.DiagonalLTRB, coord: 0 };\n        var d1array = this.lineToArray(field, d1line);\n        if (this.isDanger(d1array)) {\n            return d1line;\n        }\n        var d2line = { line: FieldUtils_1.Line.DiagonalLBRT, coord: 0 };\n        var d2array = this.lineToArray(field, d2line);\n        if (this.isDanger(d2array)) {\n            return d2line;\n        }\n        return undefined;\n    };\n    /**\n     * Find random line that can be used\n     *\n     * @param {State[][]} field - game field\n     *\n     * @returns {PlayLine | undefined} - line to use or undefined if there are no such lines\n     */\n    AI.prototype.findRandom = function (field) {\n        var lines = [];\n        for (var i = 0; i < field.length; ++i) {\n            var hline = { line: FieldUtils_1.Line.Horizontal, coord: i };\n            var harray = this.lineToArray(field, hline);\n            if (this.findEmpty(harray) !== -1) {\n                lines.push(hline);\n            }\n            var vline = { line: FieldUtils_1.Line.Vertical, coord: i };\n            var varray = this.lineToArray(field, vline);\n            if (this.findEmpty(varray) !== -1) {\n                lines.push(vline);\n            }\n        }\n        var d1line = { line: FieldUtils_1.Line.DiagonalLTRB, coord: 0 };\n        var d1array = this.lineToArray(field, d1line);\n        if (this.findEmpty(d1array) !== -1) {\n            lines.push(d1line);\n        }\n        var d2line = { line: FieldUtils_1.Line.DiagonalLBRT, coord: 0 };\n        var d2array = this.lineToArray(field, d2line);\n        if (this.findEmpty(d2array) !== -1) {\n            lines.push(d2line);\n        }\n        return lines[Math.floor(Math.random() * lines.length)];\n    };\n    /**\n     * Find position of empty space in line.\n     *\n     * @param {State[]} line - line states\n     *\n     * @return {number} - random coordinate in line\n     */\n    AI.prototype.findEmpty = function (line) {\n        var coords = [];\n        for (var i = 0; i < line.length; ++i) {\n            if (line[i] === FieldUtils_1.State.Empty) {\n                coords.push(i);\n            }\n        }\n        if (coords.length === 0) {\n            return -1;\n            // console.warn(\"AI: Can't find empty in line\");\n        }\n        var index = Math.floor(Math.random() * coords.length);\n        return coords[index];\n    };\n    /**\n     * Read line in field and return values\n     *\n     * @param {State[][]} field - game field\n     * @param {PlayLine} line - line to read\n     *\n     * @returns {State[]} - line values\n     */\n    AI.prototype.lineToArray = function (field, line) {\n        if (line.line === FieldUtils_1.Line.Horizontal) {\n            return field[line.coord];\n        }\n        var a = [];\n        if (line.line === FieldUtils_1.Line.Vertical) {\n            for (var i = 0; i < field.length; ++i) {\n                a.push(field[i][line.coord]);\n            }\n        }\n        if (line.line === FieldUtils_1.Line.DiagonalLTRB) {\n            for (var i = 0; i < field.length; ++i) {\n                a.push(field[i][i]);\n            }\n        }\n        if (line.line === FieldUtils_1.Line.DiagonalLBRT) {\n            for (var i = 0; i < field.length; ++i) {\n                a.push(field[i][field[i].length - (i + 1)]);\n            }\n        }\n        return a;\n    };\n    /**\n     * Check if array contains victory\n     *\n     * @param {State[]} line - Array from line\n     *\n     * @returns {boolean} - victory?\n     */\n    AI.prototype.isVictory = function (line) {\n        var count = 0;\n        var empty = 0;\n        for (var i = 0; i < line.length; ++i) {\n            if (line[i] === this.type) {\n                count++;\n            }\n            if (line[i] === FieldUtils_1.State.Empty) {\n                empty++;\n            }\n        }\n        return count > 1 && empty > 0;\n    };\n    /**\n     * Check if array contains danger\n     *\n     * @param {State[]} line - Array from line\n     *\n     * @return {boolean} - danger?\n     */\n    AI.prototype.isDanger = function (line) {\n        var count = 0;\n        var empty = 0;\n        for (var i = 0; i < line.length; ++i) {\n            if (line[i] === this.enemy) {\n                count++;\n            }\n            if (line[i] === FieldUtils_1.State.Empty) {\n                empty++;\n            }\n        }\n        return count > 1 && empty > 0;\n    };\n    return AI;\n}());\nexports.default = AI;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Drawable_1 = __importDefault(require(\"../renderer/Drawable\"));\nvar TextDrawable_1 = __importDefault(require(\"../renderer/TextDrawable\"));\nvar Rect_1 = __importDefault(require(\"./Rect\"));\n/** Class for button element */\nvar Button = /** @class */ (function (_super) {\n    __extends(Button, _super);\n    /**\n     * Create new button\n     *\n     * @param {string} text - text of button\n     * @param {Drawable} [parent] - parent drawable\n     */\n    function Button(text, parent) {\n        var _this = _super.call(this, parent) || this;\n        _this.background = new Rect_1.default({ width: 300, height: 50 }, 'black', 5, _this);\n        _this.background.pivot.set(150, 25);\n        _this.highlight = new Rect_1.default({ width: 280, height: 40 }, 'blue', 0, _this);\n        _this.highlight.pivot.set(140, 20);\n        _this.highlight.visible = false;\n        _this.text = new TextDrawable_1.default(text, { family: 'arial', size: 30, color: 'black' }, _this);\n        _this.text.pivot.set(100, 20);\n        return _this;\n    }\n    /** Turn highlight on */\n    Button.prototype.focus = function () {\n        this.highlight.visible = true;\n    };\n    /** Turn highlight off */\n    Button.prototype.unfocus = function () {\n        this.highlight.visible = false;\n    };\n    /**\n     * Change width of button\n     *\n     * @param {number} width - new width of button\n     */\n    Button.prototype.setWidth = function (width) {\n        this.background.size.width = width;\n        this.background.pivot.x = width / 2;\n        this.highlight.size.width = width - 20;\n        this.highlight.pivot.x = width / 2 - 10;\n        this.text.pivot.x = width / 2 - 50;\n    };\n    return Button;\n}(Drawable_1.default));\nexports.default = Button;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Drawable_1 = __importDefault(require(\"../renderer/Drawable\"));\n/**\n * Drawable element that represent O in tik-tak-toe field.\n * Contains animation.\n */\nvar ElementO = /** @class */ (function (_super) {\n    __extends(ElementO, _super);\n    /**\n     * Create new O element\n     *\n     * @param {number} radius - radius of circle\n     * @param {string} [color='blue'] - color of circle\n     * @param {number} [stroke=3] - line width of circle\n     * @param {Drawable} [parent] - parent of this drawable\n     */\n    function ElementO(radius, color, stroke, parent) {\n        var _this = _super.call(this, parent) || this;\n        /** Is element animated */\n        _this.animated = true;\n        /** Current animation time in MS */\n        _this.time = 0;\n        /** Line Width */\n        _this.stroke = 3;\n        /** Line color */\n        _this.color = 'blue';\n        _this.tick = function (delta) {\n            var _a;\n            if (!_this.animated) {\n                return;\n            }\n            _this.time += delta;\n            _this.animated = _this.time <= ElementO.animationTime;\n            if (!_this.animated) {\n                (_a = _this.onAnimationEnd) === null || _a === void 0 ? void 0 : _a.call(_this);\n            }\n        };\n        _this.radius = radius;\n        if (stroke) {\n            _this.stroke = stroke;\n        }\n        if (color) {\n            _this.color = color;\n        }\n        return _this;\n    }\n    ElementO.prototype.render = function (context) {\n        var _a, _b;\n        this.prerender(context);\n        context.beginPath();\n        if (this.animated) {\n            var progress = (_b = (_a = ElementO.easing) === null || _a === void 0 ? void 0 : _a.call(ElementO, this.time / ElementO.animationTime)) !== null && _b !== void 0 ? _b : this.time / ElementO.animationTime;\n            context.arc(0, 0, this.radius, ElementO.startAngle, ElementO.startAngle + Math.PI * 2 * progress);\n        }\n        else {\n            context.arc(0, 0, this.radius, 0, Math.PI * 2);\n        }\n        context.lineWidth = this.stroke;\n        context.strokeStyle = this.color;\n        context.stroke();\n        context.closePath();\n        this.postrender(context);\n    };\n    /** Time of show animation */\n    ElementO.animationTime = 350;\n    /** Start angle to draw circle */\n    ElementO.startAngle = Math.PI * -0.5;\n    return ElementO;\n}(Drawable_1.default));\nexports.default = ElementO;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Drawable_1 = __importDefault(require(\"../renderer/Drawable\"));\n/**\n * Drawable element that represent X in tik-tak-toe field.\n * Contains animation.\n */\nvar ElementX = /** @class */ (function (_super) {\n    __extends(ElementX, _super);\n    /**\n     * Create new X element\n     *\n     * @param {number} side - rectangle side length to draw X in\n     * @param {string} [color='blue'] - color of X\n     * @param {number} [stroke=3] - line width of X\n     * @param {Drawable} [parent] - parent of this drawable\n     */\n    function ElementX(side, color, stroke, parent) {\n        var _this = _super.call(this, parent) || this;\n        /** Is element animated */\n        _this.animated = true;\n        /** Current animation time in MS */\n        _this.time = 0;\n        /** Line Width */\n        _this.stroke = 3;\n        /** Line color */\n        _this.color = 'red';\n        _this.tick = function (delta) {\n            var _a;\n            if (!_this.animated) {\n                return;\n            }\n            _this.time += delta;\n            _this.animated = _this.time <= ElementX.animationTime;\n            if (!_this.animated) {\n                (_a = _this.onAnimationEnd) === null || _a === void 0 ? void 0 : _a.call(_this);\n            }\n        };\n        _this.side = side;\n        if (stroke) {\n            _this.stroke = stroke;\n        }\n        if (color) {\n            _this.color = color;\n        }\n        return _this;\n    }\n    ElementX.prototype.render = function (context) {\n        var _a, _b;\n        this.prerender(context);\n        context.beginPath();\n        if (this.animated) {\n            var progress = (_b = (_a = ElementX.easing) === null || _a === void 0 ? void 0 : _a.call(ElementX, this.time / ElementX.animationTime)) !== null && _b !== void 0 ? _b : this.time / ElementX.animationTime;\n            if (progress <= 0.5) {\n                context.moveTo(this.side * -0.5, this.side * -0.5);\n                context.lineTo(this.side * (-0.5 + 2 * progress), this.side * (-0.5 + 2 * progress));\n            }\n            else {\n                context.moveTo(this.side * -0.5, this.side * -0.5);\n                context.lineTo(this.side * 0.5, this.side * 0.5);\n                context.moveTo(this.side * 0.5, this.side * -0.5);\n                context.lineTo(this.side * -(-1 + 2 * progress - 0.5), this.side * (-1 + 2 * progress - 0.5));\n            }\n        }\n        else {\n            context.moveTo(this.side * -0.5, this.side * -0.5);\n            context.lineTo(this.side * 0.5, this.side * 0.5);\n            context.moveTo(this.side * 0.5, this.side * -0.5);\n            context.lineTo(this.side * -0.5, this.side * 0.5);\n        }\n        context.lineWidth = this.stroke;\n        context.strokeStyle = this.color;\n        context.stroke();\n        context.closePath();\n        this.postrender(context);\n    };\n    /** Time of show animation */\n    ElementX.animationTime = 350;\n    return ElementX;\n}(Drawable_1.default));\nexports.default = ElementX;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Drawable_1 = __importDefault(require(\"../renderer/Drawable\"));\nvar Field = /** @class */ (function (_super) {\n    __extends(Field, _super);\n    function Field(side, width, height, parent) {\n        if (side === void 0) { side = 200; }\n        if (width === void 0) { width = 3; }\n        if (height === void 0) { height = 3; }\n        var _this = _super.call(this, parent) || this;\n        _this.lineWidth = 3;\n        _this.side = side;\n        _this.width = width;\n        _this.height = height;\n        return _this;\n    }\n    Field.prototype.render = function (context) {\n        this.prerender(context);\n        context.beginPath();\n        for (var i = 1; i < this.width; ++i) {\n            context.moveTo(this.side * i, 0);\n            context.lineTo(this.side * i, this.side * this.height);\n        }\n        for (var i = 1; i < this.height; ++i) {\n            context.moveTo(0, this.side * i);\n            context.lineTo(this.side * this.width, this.side * i);\n        }\n        context.stroke();\n        context.closePath();\n        this.postrender(context);\n    };\n    return Field;\n}(Drawable_1.default));\nexports.default = Field;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Drawable_1 = __importDefault(require(\"../renderer/Drawable\"));\nvar TextDrawable_1 = __importDefault(require(\"../renderer/TextDrawable\"));\nvar FieldUtils_1 = require(\"../utils/FieldUtils\");\nvar ElementO_1 = __importDefault(require(\"./ElementO\"));\nvar ElementX_1 = __importDefault(require(\"./ElementX\"));\n/**\n * Draw player information about side\n */\nvar Info = /** @class */ (function (_super) {\n    __extends(Info, _super);\n    /**\n     * Create player information\n     *\n     * @param {string} text - text to show\n     * @param {State} type - element type\n     * @param {Drawable} [parent] - parent container\n     */\n    function Info(text, type, parent) {\n        var _this = _super.call(this, parent) || this;\n        /**\n         * Ticker function for animation\n         */\n        _this.tick = function (delta) {\n            _this.children.forEach(function (c) { var _a; return (_a = c.tick) === null || _a === void 0 ? void 0 : _a.call(c, delta); });\n        };\n        var textElement = new TextDrawable_1.default(text, { color: '#000', size: 40, family: 'arial' }, _this);\n        textElement.position.set(70, 10);\n        var element = type === FieldUtils_1.State.X ? new ElementX_1.default(200, 'red', 4, _this) : new ElementO_1.default(100, 'blue', 4, _this);\n        element.position.set(100, 160);\n        return _this;\n    }\n    return Info;\n}(Drawable_1.default));\nexports.default = Info;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Drawable_1 = __importDefault(require(\"../renderer/Drawable\"));\n/** Class to draw rectangle */\nvar Rect = /** @class */ (function (_super) {\n    __extends(Rect, _super);\n    /**\n     * Create new rectangle drawable element\n     *\n     * @param {RectSize} size - dimensions of rectangle\n     * @param {string} [color='red'] - color of rectangle\n     * @param {number} [stroke=0] - line width of rectangle. if 0 then rectangle going to be filled with color\n     * @param {Drawable} [parent] - parent of this drawable\n     */\n    function Rect(size, color, stroke, parent) {\n        var _this = _super.call(this, parent) || this;\n        /** Color of rectangle */\n        _this.color = 'red';\n        /** Line width of rectangle. If 0 then rectangle going to be filled with color */\n        _this.stroke = 0;\n        _this.size = size;\n        if (color) {\n            _this.color = color;\n        }\n        if (stroke) {\n            _this.stroke = stroke;\n        }\n        return _this;\n    }\n    Rect.prototype.render = function (context) {\n        if (!this.visible) {\n            return;\n        }\n        this.prerender(context);\n        context.beginPath();\n        context.rect(0, 0, this.size.width, this.size.height);\n        context.lineWidth = this.stroke;\n        context.strokeStyle = this.color;\n        context.fillStyle = this.color;\n        if (this.stroke) {\n            context.stroke();\n        }\n        else {\n            context.fill();\n        }\n        context.closePath();\n        this.postrender(context);\n    };\n    return Rect;\n}(Drawable_1.default));\nexports.default = Rect;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Game_1 = __importDefault(require(\"./Game\"));\nvar adDisplayContainer;\nvar adsLoader;\nvar adsManager;\nfunction init() {\n    var canvas = document.getElementById('canvas');\n    if (!canvas) {\n        console.error(\"Can't find canvas with id 'canvas'\");\n        return;\n    }\n    console.log(\"Running game\");\n    var gameContainer = document.getElementById('gameContainer');\n    var game = new Game_1.default(canvas);\n    game.prepare();\n    // game.run();\n    var onAdsManagerLoaded = function (adsManagerLoadedEvent) {\n        adsManager = adsManagerLoadedEvent.getAdsManager();\n        adsManager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR, onAdError);\n        adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED, onContentPauseRequested);\n        adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED, onContentResumeRequested);\n        adsManager.addEventListener(google.ima.AdEvent.Type.ALL_ADS_COMPLETED, onAdEvent);\n        try {\n            adsManager.init(640, 360, google.ima.ViewMode.NORMAL);\n            adsManager.start();\n        }\n        catch (adError) {\n            console.error('AD error: ', adError);\n            game.play();\n        }\n    };\n    var onAdError = function (adErrorEvent) {\n        console.error('Ad error: ' + adErrorEvent.getError().toString());\n        adsManager === null || adsManager === void 0 ? void 0 : adsManager.destroy();\n        game.play();\n    };\n    var onContentPauseRequested = function () {\n        game.pause();\n    };\n    var onContentResumeRequested = function () {\n        game.play();\n    };\n    var onAdEvent = function (adEvent) {\n        if (adEvent.type === google.ima.AdEvent.Type.ALL_ADS_COMPLETED) {\n            game.play();\n        }\n    };\n    var adContainer = document.getElementById('adContainer');\n    adDisplayContainer = new google.ima.AdDisplayContainer(adContainer, gameContainer);\n    adsLoader = new google.ima.AdsLoader(adDisplayContainer);\n    adsLoader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED, onAdsManagerLoaded, false);\n    adsLoader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR, onAdError, false);\n    var requestAd = function () {\n        var adsRequest = new google.ima.AdsRequest();\n        adsRequest.adTagUrl = 'https://pubads.g.doubleclick.net/gampad/ads?sz=640x480&iu=/124319096/external/single_ad_samples&ciu_szs=300x250&impl=s&gdfp_req=1&env=vp&output=vast&unviewed_position_start=1&cust_params=deployment%3Ddevsite%26sample_ct%3Dlinear&correlator=';\n        adsRequest.linearAdSlotWidth = 640;\n        adsRequest.linearAdSlotHeight = 360;\n        adsRequest.nonLinearAdSlotWidth = 640;\n        adsRequest.nonLinearAdSlotHeight = 360 / 3;\n        adsLoader.requestAds(adsRequest);\n    };\n    game.onAd = function () {\n        game.pause();\n        requestAd();\n        adDisplayContainer.initialize();\n    };\n    game.play();\n}\nwindow.addEventListener('load', init);\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Drawable_1 = __importDefault(require(\"./Drawable\"));\nvar App = /** @class */ (function () {\n    function App(canvas) {\n        var _this = this;\n        /**\n         * Last current time\n         */\n        this._time = -1;\n        /**\n         * Lifetime of application\n         */\n        this.time = 0;\n        this.background = 'white';\n        /**\n         * Is application rendering\n         */\n        this._rendering = false;\n        /** Render function */\n        this.render = function () {\n            var context = _this.context;\n            if (!context) {\n                console.warn(\"Can't get context to draw on\");\n                return;\n            }\n            context.fillStyle = _this.background;\n            context.fillRect(0, 0, _this.width, _this.height);\n            // context.clearRect(0, 0, this.width, this.height);\n            _this.scene.render(context);\n            if (_this._time < 0) {\n                _this._time = window.performance.now();\n            }\n            var old = _this._time;\n            _this._time = window.performance.now();\n            var delta = _this._time - old;\n            _this.time += delta;\n            _this.tick(delta);\n            if (_this._rendering) {\n                requestAnimationFrame(_this.render);\n            }\n            else {\n                _this._time = -1;\n            }\n        };\n        this.canvas = canvas;\n        this.context = this.canvas.getContext(\"2d\", { alpha: false }) || undefined;\n        this.width = this.canvas.width;\n        this.height = this.canvas.height;\n        this.scene = new Drawable_1.default();\n    }\n    /** Ticker function */\n    App.prototype.tick = function (delta) {\n        if (this.scene.tick) {\n            this.scene.tick(delta);\n        }\n        else {\n            this.scene.children.forEach(function (c) { var _a; return (_a = c.tick) === null || _a === void 0 ? void 0 : _a.call(c, delta); });\n        }\n    };\n    Object.defineProperty(App.prototype, \"rendering\", {\n        get: function () {\n            return this._rendering;\n        },\n        set: function (state) {\n            this._rendering = state;\n            if (this._rendering)\n                this.render();\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return App;\n}());\nexports.default = App;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Point2D_1 = __importDefault(require(\"./math/Point2D\"));\n/** Base class for every element that will be drawed */\nvar Drawable = /** @class */ (function () {\n    /**\n     * Create new drawable element\n     *\n     * @param {Drawable} [parent] - parent of new drawable\n     */\n    function Drawable(parent) {\n        /** Rotation of element */\n        this.rotation = 0;\n        /** Alpha of element */\n        this.alpha = 1;\n        /** Is element visible */\n        this.visible = true;\n        this.interactive = false;\n        /** Child elements of this drawable */\n        this.children = [];\n        /** Remember context alpha to restore after drawing */\n        this._alpha = 1;\n        this.position = new Point2D_1.default();\n        this.pivot = new Point2D_1.default();\n        this.scale = new Point2D_1.default(1, 1);\n        if (parent) {\n            parent.addChild(this);\n        }\n    }\n    /**\n     * Destroy drawable element\n     */\n    Drawable.prototype.destroy = function () { };\n    /**\n     * Add child element to this element\n     *\n     * @param {Drawable} child - child element to add\n     */\n    Drawable.prototype.addChild = function (child) {\n        if (child.parent) {\n            child.parent.removeChild(child);\n        }\n        child.parent = this;\n        this.children.push(child);\n    };\n    /**\n     * Add child to this element at index\n     *\n     * @param {Drawable} child - child element to add\n     * @param {number} index - index of child element\n     */\n    Drawable.prototype.addChildAt = function (child, index) {\n        if (child.parent) {\n            child.parent.removeChild(child);\n        }\n        child.parent = this;\n        this.children.splice(index, 0, child);\n    };\n    /**\n     * Remove child from this element\n     *\n     * @param {Drawable} child - child element to remove\n     */\n    Drawable.prototype.removeChild = function (child) {\n        var index = this.children.indexOf(child);\n        if (index < 0) {\n            return;\n        }\n        child.parent = undefined;\n        this.children.splice(index, 1);\n    };\n    /**\n     * Remove all children from this element\n     */\n    Drawable.prototype.removeChildren = function () {\n        this.children.forEach(function (c) { return c.parent = undefined; });\n        this.children = [];\n    };\n    /**\n     * Pre-render function that calls before drawing element\n     * Basically translate position on context\n     *\n     * @param {CanvasRenderingContext2D} context - context to draw on\n     */\n    Drawable.prototype.prerender = function (context) {\n        context.save();\n        context.translate(this.position.x, this.position.y);\n        context.rotate(this.rotation);\n        context.scale(this.scale.x, this.scale.y);\n        context.translate(-this.pivot.x, -this.pivot.y);\n        this._alpha = context.globalAlpha;\n        context.globalAlpha = Math.min(Math.max(0, this._alpha * this.alpha), 1);\n    };\n    /**\n     * Render function that calls to draw element and children.\n     * Calls prerender and postrender functions\n     *\n     * @param {CanvasRenderingContext2D} context - context to draw on\n     */\n    Drawable.prototype.render = function (context) {\n        if (!this.visible) {\n            return;\n        }\n        this.prerender(context);\n        this.postrender(context);\n    };\n    /**\n     * Post-render function that calls after drawing element\n     * basically restore context after translates\n     *\n     * @param {CanvasRenderingContext2D} context - context to draw on\n     */\n    Drawable.prototype.postrender = function (context) {\n        this.children.forEach(function (c) { return c.render(context); });\n        context.restore();\n        context.globalAlpha = this._alpha;\n    };\n    return Drawable;\n}());\nexports.default = Drawable;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Drawable_1 = __importDefault(require(\"./Drawable\"));\n/**\n * Drawable element that draws text\n */\nvar TextDrawable = /** @class */ (function (_super) {\n    __extends(TextDrawable, _super);\n    /**\n     * Create new text drawable\n     *\n     * @param {string} text - text to draw\n     * @param {TextDrawableStyle} style - style to draw text with\n     * @param {Drawable} [parent] - parent drawable\n     */\n    function TextDrawable(text, style, parent) {\n        var _this = _super.call(this, parent) || this;\n        _this.text = text;\n        _this.style = style;\n        return _this;\n    }\n    TextDrawable.prototype.render = function (context) {\n        if (!this.visible) {\n            return;\n        }\n        this.prerender(context);\n        context.font = \"\".concat(this.style.size, \"px \").concat(this.style.family);\n        context.fillStyle = this.style.color;\n        context.fillText(this.text, 0, this.style.size);\n        this.postrender(context);\n    };\n    return TextDrawable;\n}(Drawable_1.default));\nexports.default = TextDrawable;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/** Simple 2D point class */\nvar Point2D = /** @class */ (function () {\n    function Point2D(x, y) {\n        if (x === void 0) { x = 0; }\n        if (y === void 0) { y = 0; }\n        this.x = x;\n        this.y = y;\n    }\n    Point2D.prototype.set = function (x, y) {\n        if (x === void 0) { x = 0; }\n        if (y === void 0) { y = x; }\n        this.x = x;\n        this.y = y;\n    };\n    return Point2D;\n}());\nexports.default = Point2D;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Button_1 = __importDefault(require(\"../elements/Button\"));\nvar Rect_1 = __importDefault(require(\"../elements/Rect\"));\nvar Drawable_1 = __importDefault(require(\"../renderer/Drawable\"));\nvar TextDrawable_1 = __importDefault(require(\"../renderer/TextDrawable\"));\n/** Finish screen */\nvar Finish = /** @class */ (function (_super) {\n    __extends(Finish, _super);\n    function Finish(text, parent) {\n        var _this = _super.call(this, parent) || this;\n        /** Current button that selected */\n        _this.selected = 0;\n        /** Event handler */\n        _this.onKeyEvent = function (e) {\n            switch (e.keyCode) {\n                case 37: // Left\n                    _this.select(_this.selected - 1);\n                    break;\n                case 39: // Right\n                    _this.select(_this.selected + 1);\n                    break;\n                case 13: // Enter\n                    _this.enter();\n                default:\n                    break;\n            }\n        };\n        var container = new Drawable_1.default(_this);\n        container.position.set(640, 360);\n        var background = new Rect_1.default({ width: 720, height: 360 }, '#aaa', 0, container);\n        background.pivot.set(360, 180);\n        background.alpha = 0.6;\n        var border = new Rect_1.default({ width: 720, height: 360 }, 'black', 5, container);\n        border.pivot.set(360, 180);\n        var ttt = new TextDrawable_1.default(text, { family: 'arial', size: 50, color: 'black' }, container);\n        ttt.position.set(-150, -150);\n        var playBtn = new Button_1.default(\"Play\", container);\n        playBtn.setWidth(170);\n        playBtn.position.set(-120, 50);\n        var exitBtn = new Button_1.default(\"Exit\", container);\n        exitBtn.setWidth(170);\n        exitBtn.position.set(120, 50);\n        _this.buttons = [playBtn, exitBtn];\n        return _this;\n    }\n    /** Select button */\n    Finish.prototype.select = function (target) {\n        this.buttons[this.selected].unfocus();\n        this.selected = Math.max(0, Math.min(target, this.buttons.length - 1));\n        this.buttons[this.selected].focus();\n    };\n    /** When user press 'Enter' key */\n    Finish.prototype.enter = function () {\n        var _a, _b;\n        switch (this.selected) {\n            case 0: // Play\n                (_a = this.onPlay) === null || _a === void 0 ? void 0 : _a.call(this);\n                break;\n            case 1: // Exit\n                (_b = this.onExit) === null || _b === void 0 ? void 0 : _b.call(this);\n                break;\n            default:\n                break;\n        }\n    };\n    /** Call when showing screen */\n    Finish.prototype.start = function () {\n        this.select(0);\n    };\n    /** Call to destroy screen */\n    Finish.prototype.destroy = function () {\n        this.onExit = undefined;\n        this.onPlay = undefined;\n    };\n    return Finish;\n}(Drawable_1.default));\nexports.default = Finish;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar AI_1 = __importDefault(require(\"../ai/AI\"));\nvar ElementO_1 = __importDefault(require(\"../elements/ElementO\"));\nvar ElementX_1 = __importDefault(require(\"../elements/ElementX\"));\nvar Field_1 = __importDefault(require(\"../elements/Field\"));\nvar Info_1 = __importDefault(require(\"../elements/Info\"));\nvar Rect_1 = __importDefault(require(\"../elements/Rect\"));\nvar Drawable_1 = __importDefault(require(\"../renderer/Drawable\"));\nvar Point2D_1 = __importDefault(require(\"../renderer/math/Point2D\"));\nvar FieldUtils = __importStar(require(\"../utils/FieldUtils\"));\n/** Tic Tac Toe game screen */\nvar TicTacToe = /** @class */ (function (_super) {\n    __extends(TicTacToe, _super);\n    function TicTacToe(parent) {\n        var _this = _super.call(this, parent) || this;\n        /** Game field */\n        _this.field = [[0, 0, 0], [0, 0, 0], [0, 0, 0]];\n        _this.turn = FieldUtils.State.X;\n        /** Input locker */\n        _this.locked = false;\n        /** Callback function for elements animation */\n        _this.onElementAnimEnd = function () {\n            var _a;\n            var result = FieldUtils.check(_this.field);\n            console.log(result);\n            if (result.win) {\n                _this.drawWin(result);\n            }\n            else if (result.draw) {\n                (_a = _this.onDraw) === null || _a === void 0 ? void 0 : _a.call(_this);\n            }\n            else {\n                if (_this.turn === _this.playerType) {\n                    _this.lock(false);\n                }\n                else {\n                    _this.playAI();\n                }\n            }\n        };\n        _this.tick = function (delta) {\n            _this.fieldElement.children.forEach(function (c) { var _a; return (_a = c.tick) === null || _a === void 0 ? void 0 : _a.call(c, delta); });\n            _this.children.forEach(function (c) { var _a; return (_a = c.tick) === null || _a === void 0 ? void 0 : _a.call(c, delta); });\n        };\n        /** Key events handler */\n        _this.onKeyEvent = function (e) {\n            if (_this.locked) {\n                return;\n            }\n            switch (e.keyCode) {\n                case 37: // Left\n                    _this.moveCursor(-1, 0);\n                    break;\n                case 38: // Up\n                    _this.moveCursor(0, -1);\n                    break;\n                case 39: // Right\n                    _this.moveCursor(1, 0);\n                    break;\n                case 40: // Down\n                    _this.moveCursor(0, 1);\n                    break;\n                case 13: // Enter\n                    _this.onEnter();\n                    break;\n                default:\n                    break;\n            }\n        };\n        _this.cursor = new Point2D_1.default(1, 1);\n        _this.fieldElement = new Field_1.default(200, 3, 3, _this);\n        _this.fieldElement.position.set(340, 60);\n        _this.cursorElement = new Rect_1.default({ width: 190, height: 190 }, '#666', 3, _this.fieldElement);\n        _this.cursorElement.pivot.set(95, 95);\n        var cx = 100 + _this.cursor.x * 200;\n        var cy = 100 + _this.cursor.y * 200;\n        _this.cursorElement.position.set(cx, cy);\n        var x = Math.random();\n        _this.playerType = x < 0.5 ? FieldUtils.State.X : FieldUtils.State.O;\n        _this.aiType = x < 0.5 ? FieldUtils.State.O : FieldUtils.State.X;\n        _this.ai = new AI_1.default(_this.aiType);\n        var playerInfo = new Info_1.default(\"YOU\", _this.playerType, _this);\n        playerInfo.position.set(70, 230);\n        var aiInfo = new Info_1.default(\"AI\", _this.aiType, _this);\n        aiInfo.position.set(1010, 230);\n        return _this;\n    }\n    /**\n     * Move cursor by in field coordinates\n     *\n     * @param {number} dx - direction by X\n     * @param {number} dy - direction by Y\n     */\n    TicTacToe.prototype.moveCursor = function (dx, dy) {\n        this.cursor.x = Math.max(0, Math.min(this.cursor.x + dx, this.field[0].length - 1));\n        this.cursor.y = Math.max(0, Math.min(this.cursor.y + dy, this.field.length - 1));\n        var x = 100 + this.cursor.x * 200;\n        var y = 100 + this.cursor.y * 200;\n        this.cursorElement.position.set(x, y);\n    };\n    /**\n     * Place new element to the field\n     *\n     * @param {number} x - X coordinate on field\n     * @param {number} y - Y coordinate on field\n     * @param {FieldUtils.State} type - type of element\n     *\n     * @returns {boolean} - is element placed\n     */\n    TicTacToe.prototype.placeElement = function (x, y, type) {\n        if (this.field[y][x] !== FieldUtils.State.Empty) {\n            return false;\n        }\n        this.field[y][x] = type;\n        var el = type === FieldUtils.State.X ?\n            new ElementX_1.default(180, 'red', 3, this.fieldElement) :\n            new ElementO_1.default(90, 'blue', 3, this.fieldElement);\n        el.position.set(100 + x * 200, 100 + 200 * y);\n        el.onAnimationEnd = this.onElementAnimEnd;\n        this.lock(true);\n        this.turn = this.turn === FieldUtils.State.X ? FieldUtils.State.O : FieldUtils.State.X;\n        return true;\n    };\n    /**\n     * Make AI to play\n     */\n    TicTacToe.prototype.playAI = function () {\n        if (this.aiType !== this.turn) {\n            console.warn(\"AI can't play, players turn\");\n            return;\n        }\n        var coords = this.ai.getCoordinates(this.field);\n        this.placeElement(coords.x, coords.y, this.aiType);\n    };\n    /** Lock input */\n    TicTacToe.prototype.lock = function (state) {\n        this.locked = state;\n        this.cursorElement.visible = !this.locked;\n    };\n    /** Draws victory lines */\n    TicTacToe.prototype.drawWin = function (result) {\n        var _this = this;\n        var el = new ElementX_1.default(180, 'green', 9, this.fieldElement);\n        switch (result.line) {\n            case FieldUtils.Line.Horizontal:\n                el.scale.x = 3.3;\n                el.scale.y = 0.5;\n                el.position.x = this.field[0].length * 0.5 * 200;\n                el.position.y = 100 + result.coord * 200;\n                break;\n            case FieldUtils.Line.Vertical:\n                el.scale.x = 0.5;\n                el.scale.y = 3.3;\n                el.position.x = 100 + result.coord * 200;\n                el.position.y = this.field.length * 0.5 * 200;\n                break;\n            case FieldUtils.Line.DiagonalLTRB:\n                el.scale.x = 4.0;\n                el.scale.y = 0.5;\n                el.position.x = this.field[0].length * 0.5 * 200;\n                el.position.y = this.field.length * 0.5 * 200;\n                el.rotation = Math.PI * 0.25;\n                break;\n            case FieldUtils.Line.DiagonalLBRT:\n                el.scale.x = 4.0;\n                el.scale.y = 0.5;\n                el.position.x = this.field[0].length * 0.5 * 200;\n                el.position.y = this.field.length * 0.5 * 200;\n                el.rotation = Math.PI * -0.25;\n                break;\n            default:\n                break;\n        }\n        el.onAnimationEnd = function () {\n            var _a, _b;\n            if (result.value === _this.playerType) {\n                (_a = _this.onWin) === null || _a === void 0 ? void 0 : _a.call(_this);\n            }\n            if (result.value === _this.aiType) {\n                (_b = _this.onLose) === null || _b === void 0 ? void 0 : _b.call(_this);\n            }\n        };\n    };\n    /** On 'Enter' press */\n    TicTacToe.prototype.onEnter = function () {\n        this.placeElement(this.cursor.x, this.cursor.y, this.playerType);\n    };\n    /** Call when showing screen */\n    TicTacToe.prototype.start = function () {\n        if (this.aiType === this.turn) {\n            this.playAI();\n        }\n    };\n    /** Call to destroy screen*/\n    TicTacToe.prototype.destroy = function () {\n        this.onDraw = undefined;\n        this.onWin = undefined;\n        this.onLose = undefined;\n    };\n    return TicTacToe;\n}(Drawable_1.default));\nexports.default = TicTacToe;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Button_1 = __importDefault(require(\"../elements/Button\"));\nvar Rect_1 = __importDefault(require(\"../elements/Rect\"));\nvar Drawable_1 = __importDefault(require(\"../renderer/Drawable\"));\nvar TextDrawable_1 = __importDefault(require(\"../renderer/TextDrawable\"));\n/** Welcome screen */\nvar Welcome = /** @class */ (function (_super) {\n    __extends(Welcome, _super);\n    function Welcome(parent) {\n        var _this = _super.call(this, parent) || this;\n        /** Current button that selected */\n        _this.selected = 0;\n        /** Event handler */\n        _this.onKeyEvent = function (e) {\n            switch (e.keyCode) {\n                case 37: // Left\n                    _this.select(_this.selected - 1);\n                    break;\n                case 39: // Right\n                    _this.select(_this.selected + 1);\n                    break;\n                case 13: // Enter\n                    _this.enter();\n                default:\n                    break;\n            }\n        };\n        var container = new Drawable_1.default(_this);\n        container.position.set(640, 360);\n        var background = new Rect_1.default({ width: 720, height: 360 }, 'black', 5, container);\n        background.pivot.set(360, 180);\n        var ttt = new TextDrawable_1.default(\"TIC-TAC-TOE\", { family: 'arial', size: 50, color: 'black' }, container);\n        ttt.position.set(-150, -150);\n        var playBtn = new Button_1.default(\"Play\", container);\n        playBtn.setWidth(170);\n        playBtn.position.set(-120, 50);\n        var exitBtn = new Button_1.default(\"Exit\", container);\n        exitBtn.setWidth(170);\n        exitBtn.position.set(120, 50);\n        _this.buttons = [playBtn, exitBtn];\n        return _this;\n    }\n    /** Select button */\n    Welcome.prototype.select = function (target) {\n        this.buttons[this.selected].unfocus();\n        this.selected = Math.max(0, Math.min(target, this.buttons.length - 1));\n        this.buttons[this.selected].focus();\n    };\n    /** When user press 'Enter' key */\n    Welcome.prototype.enter = function () {\n        var _a, _b;\n        switch (this.selected) {\n            case 0: // Play\n                (_a = this.onPlay) === null || _a === void 0 ? void 0 : _a.call(this);\n                break;\n            case 1: // Exit\n                (_b = this.onExit) === null || _b === void 0 ? void 0 : _b.call(this);\n                break;\n            default:\n                break;\n        }\n    };\n    /** Call when showing screen */\n    Welcome.prototype.start = function () {\n        this.select(0);\n    };\n    /** Call to destroy screen */\n    Welcome.prototype.destroy = function () {\n        this.onExit = undefined;\n        this.onPlay = undefined;\n    };\n    return Welcome;\n}(Drawable_1.default));\nexports.default = Welcome;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Line = exports.State = void 0;\nexports.check = check;\n/** Type of field cell */\nvar State;\n(function (State) {\n    State[State[\"Empty\"] = 0] = \"Empty\";\n    State[State[\"X\"] = 1] = \"X\";\n    State[State[\"O\"] = 2] = \"O\";\n})(State || (exports.State = State = {}));\n;\n/** Type of line */\nvar Line;\n(function (Line) {\n    Line[Line[\"Horizontal\"] = 0] = \"Horizontal\";\n    Line[Line[\"Vertical\"] = 1] = \"Vertical\";\n    Line[Line[\"DiagonalLTRB\"] = 2] = \"DiagonalLTRB\";\n    Line[Line[\"DiagonalLBRT\"] = 3] = \"DiagonalLBRT\";\n})(Line || (exports.Line = Line = {}));\n;\n/**\n * Check field for victory or draw */\nfunction check(field) {\n    var win = false;\n    var line = Line.Horizontal;\n    var coord = 0;\n    var draw = true;\n    var value = State.Empty;\n    // Check horizontal\n    for (var i = 0; i < field.length; ++i) {\n        var target = field[i][0];\n        if (target === State.Empty) {\n            draw = false;\n            continue;\n        }\n        win = true;\n        for (var j = 1; j < field[i].length; ++j) {\n            win = target === field[i][j];\n            draw = draw && (field[i][j] !== State.Empty);\n            if (!win) {\n                break;\n            }\n        }\n        if (win) {\n            line = Line.Horizontal;\n            coord = i;\n            draw = false;\n            value = target;\n            break;\n        }\n    }\n    if (!win) { // Check vertical\n        for (var i = 0; i < field[0].length; ++i) {\n            var target = field[0][i];\n            if (target === State.Empty) {\n                draw = false;\n                continue;\n            }\n            win = true;\n            for (var j = 1; j < field.length; ++j) {\n                win = target === field[j][i];\n                draw = draw && (field[j][i] !== State.Empty);\n                if (!win) {\n                    break;\n                }\n            }\n            if (win) {\n                line = Line.Vertical;\n                coord = i;\n                draw = false;\n                value = target;\n                break;\n            }\n        }\n    }\n    if (!win) { // Check diagonal lt -> rb\n        var target = field[0][0];\n        if (target !== State.Empty) {\n            win = true;\n            for (var i = 1; i < field.length; ++i) {\n                win = target === field[i][i];\n                draw = draw && (field[i][i] !== State.Empty);\n                if (!win) {\n                    break;\n                }\n            }\n        }\n        else {\n            draw = false;\n        }\n        if (win) {\n            line = Line.DiagonalLTRB;\n            draw = false;\n            value = target;\n        }\n    }\n    if (!win) { // Check diagonal lb -> rt\n        var target = field[0][field[0].length - 1];\n        if (target !== State.Empty) {\n            win = true;\n            for (var i = 1; i < field.length; i++) {\n                win = target === field[i][field[i].length - (i + 1)];\n                draw = draw && (field[i][field[i].length - (i + 1)] !== State.Empty);\n                if (!win) {\n                    break;\n                }\n            }\n        }\n        else {\n            draw = false;\n        }\n        if (win) {\n            line = Line.DiagonalLBRT;\n            draw = false;\n            value = target;\n        }\n    }\n    return {\n        win: win,\n        line: line,\n        coord: coord,\n        draw: draw,\n        value: value\n    };\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(156);\n"],"names":["__importDefault","this","mod","__esModule","Object","defineProperty","exports","value","App_1","Finish_1","TicTacToe_1","Welcome_1","Game","canvas","_this","toGame","_a","_b","onAd","call","console","log","app","scene","removeChildren","currentScreen","destroy","gameplay","default","onWin","toFinish","onLose","onDraw","start","result","text","finish","onPlay","onExit","toExit","window","location","assign","onKeyEvent","e","rendering","background","prototype","prepare","welcome","subscribe","play","visible","pause","document","addEventListener","unsubscribe","removeEventListener","FieldUtils_1","AI","type","enemy","State","X","O","getCoordinates","field","victory","findVictory","lineToCoord","danger","findDanger","random","findRandom","x","y","line","i","findEmpty","lineToArray","Line","Horizontal","coord","Vertical","DiagonalLTRB","DiagonalLBRT","length","hline","harray","isVictory","vline","varray","d1line","d1array","d2line","d2array","isDanger","lines","push","Math","floor","coords","Empty","a","count","empty","extendStatics","__extends","d","b","setPrototypeOf","__proto__","Array","p","hasOwnProperty","TypeError","String","__","constructor","create","Drawable_1","TextDrawable_1","Rect_1","Button","_super","parent","width","height","pivot","set","highlight","family","size","color","focus","unfocus","setWidth","ElementO","radius","stroke","animated","time","tick","delta","animationTime","onAnimationEnd","render","context","prerender","beginPath","progress","easing","arc","startAngle","PI","lineWidth","strokeStyle","closePath","postrender","ElementX","side","moveTo","lineTo","Field","ElementO_1","ElementX_1","Info","children","forEach","c","position","Rect","rect","fillStyle","fill","adDisplayContainer","adsLoader","adsManager","Game_1","getElementById","gameContainer","game","onAdError","adErrorEvent","error","getError","toString","onContentPauseRequested","onContentResumeRequested","onAdEvent","adEvent","google","ima","AdEvent","Type","ALL_ADS_COMPLETED","adContainer","AdDisplayContainer","AdsLoader","AdsManagerLoadedEvent","ADS_MANAGER_LOADED","adsManagerLoadedEvent","getAdsManager","AdErrorEvent","AD_ERROR","CONTENT_PAUSE_REQUESTED","CONTENT_RESUME_REQUESTED","init","ViewMode","NORMAL","adError","adsRequest","AdsRequest","adTagUrl","linearAdSlotWidth","linearAdSlotHeight","nonLinearAdSlotWidth","nonLinearAdSlotHeight","requestAds","initialize","App","_time","_rendering","fillRect","performance","now","old","requestAnimationFrame","warn","getContext","alpha","undefined","get","state","enumerable","configurable","Point2D_1","Drawable","rotation","interactive","_alpha","scale","addChild","child","removeChild","addChildAt","index","splice","indexOf","save","translate","rotate","globalAlpha","min","max","restore","TextDrawable","style","font","concat","fillText","Point2D","Button_1","Finish","selected","keyCode","select","enter","container","playBtn","exitBtn","buttons","target","__createBinding","o","m","k","k2","desc","getOwnPropertyDescriptor","writable","__setModuleDefault","v","__importStar","AI_1","Field_1","Info_1","FieldUtils","TicTacToe","turn","locked","onElementAnimEnd","check","win","drawWin","draw","playerType","lock","playAI","fieldElement","moveCursor","onEnter","cursor","cursorElement","cx","cy","aiType","ai","dx","dy","placeElement","el","Welcome","j","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","module","__webpack_modules__"],"sourceRoot":""}